Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=(e=require("./Reflector"))&&e.__esModule?e:{default:e},i=require("../../../lib/utils");class r extends t.default{#e=[[0,13]];plugWire(e,t){var i;if(this.#e.length>=13)throw"All plugs have been wired";if(!this.arePlugsWireable(e,t))throw"This couple is permanently wired and therefore cannot be plugged";if(e===t)throw"Cannot wire the same letter";if(!(e>=0&&e<26&&t>=0&&t<26))throw"Wiring indexes out of bounds";for(let i=0;i<this.#e.length;i+=1){const[r,n]=this.#e[i];if(r===e||n===e||r===t||n===t)throw"At least one of the plugs is already wired"}this.#e.push([e,t]),null===(i=this.getEventEmitter())||void 0===i||i.emit("change.wirePlugged",e,t)}arePlugsWireable(e,t){return!(0===e&&13===t||13===e&&0===t)}unplugWire(e,t){if(!this.arePlugsWireable(e,t))throw"This couple is permanently wired and therefore cannot be unplugged";for(let r=0;r<this.#e.length;r+=1){const[n,o]=this.#e[r];var i;if(n===e&&o===t||n===t&&o===e)this.#e.splice(r,1),null===(i=this.getEventEmitter())||void 0===i||i.emit("change.wireUnplugged",e,t)}}pinToPin(e){for(let t=0;t<this.#e.length;t+=1){const[i,r]=this.#e[t];if(i===e)return r;if(r===e)return i}throw"This pin is not wired"}getReflectedLetter(){throw"This method has various interpretations on this reflector"}getIndexFromGermanNotation(e){let t=(0,i.getIndex)(e);if(9===t||24===t)throw"J and Y letters do not appear in German notation";return(t>8&&t<13||25===t)&&(t-=1),25-t}getIndexFromAlliedNotation(e){const t=(0,i.getIndex)(e);return(0,i.getModularNumber)(t+25)}plugWireInGermanNotation(e,t){this.plugWire(this.getIndexFromGermanNotation(e),this.getIndexFromGermanNotation(t))}unplugWireInGermanNotation(e,t){this.unplugWire(this.getIndexFromGermanNotation(e),this.getIndexFromGermanNotation(t))}plugWireInAlliedNotation(e,t){this.plugWire(this.getIndexFromAlliedNotation(e),this.getIndexFromAlliedNotation(t))}unplugWireInAlliedNotation(e,t){this.unplugWire(this.getIndexFromAlliedNotation(e),this.getIndexFromAlliedNotation(t))}}exports.default=r;
