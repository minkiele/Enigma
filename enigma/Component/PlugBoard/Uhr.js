Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=require("../../lib/utils"),r=(e=require("./Wire/Wire"))&&e.__esModule?e:{default:e};const i=[6,31,4,29,18,39,16,25,30,23,28,1,38,11,36,37,26,27,24,21,14,3,12,17,2,7,0,33,10,35,8,5,22,19,20,13,34,15,32,9],s=[6,0,7,5,1,8,4,2,9,3];exports.default=class{#e={};#t=0;setUhrSetting(e){this.#t=(0,t.getModularNumber)(e,i.length)}getUhrSetting(){return this.#t}getInnerPin(e){return(0,t.getModularNumber)(i[(0,t.getModularNumber)(e+this.#t,i.length)]-this.#t,i.length)}getOuterPin(e){const r=(0,t.getModularNumber)(e+this.#t,i.length),s=i.indexOf(r);return(0,t.getModularNumber)(s-this.#t,i.length)}getIngoingBlackWire(e){const t=4*(e-1),r=this.getInnerPin(t);return s[(r-2)/4]+1}getOutgoingBlackWire(e){const t=4*(e-1)+2,r=this.getInnerPin(t);return s[r/4]+1}getIngoingRedWire(e){const t=4*s.indexOf(e-1);return(this.getOuterPin(t)-2)/4+1}getOutgoingRedWire(e){const t=4*s.indexOf(e-1)+2;return this.getOuterPin(t)/4+1}getUhrWire(e){return this.#e[e]}getUhrWires(){return Object.keys(this.#e).sort(((e,t)=>Number(t)-Number(e))).map((e=>this.#e[e]))}prepareUhrWire(e,t,i){const s=this,n=new class extends r.default{swapForward(t){return t===this.firstLetter?s.#e[s.getIngoingBlackWire(e)].secondLetter:t===this.secondLetter?s.#e[s.getIngoingRedWire(e)].firstLetter:void 0}swapBackward(t){return t===this.firstLetter?s.#e[s.getOutgoingBlackWire(e)].secondLetter:t===this.secondLetter?s.#e[s.getOutgoingRedWire(e)].firstLetter:void 0}}(t,i);return this.#e[e]=n,n}prepareUhrWires(e){e.forEach((([e,t],r)=>{this.prepareUhrWire(r+1,e,t)}))}};
