"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const WiredWheel_1=__importDefault(require("../../WiredWheel/WiredWheel")),utils_1=require("../../../lib/utils");class Rotor extends WiredWheel_1.default{constructor(){super(),this.setRingPosition(0)}pinToPlate(t){return utils_1.getIndex(this.wirings,t)}plateToPin(t){return this.wirings.indexOf(utils_1.getLetter(t))}setRingPosition(t){this.ringPosition=t,this.emit("change.ringPositionSet",t)}setRingSetting(t){this.setRingPosition(utils_1.getIndex(t)),this.emit("change.ringSettingSet",t)}getOutputLetter(t){const e=t.toUpperCase(),i=utils_1.getIndex(e),s=utils_1.getModularNumber(i-this.ringPosition),r=this.pinToPlate(s),n=utils_1.getModularNumber(r+this.ringPosition);return utils_1.getLetter(n)}getInputLetter(t){const e=t.toUpperCase(),i=utils_1.getIndex(e),s=utils_1.getModularNumber(i+this.ringPosition),r=this.plateToPin(s),n=utils_1.getModularNumber(r-this.ringPosition);return utils_1.getLetter(n)}}exports.default=Rotor;
