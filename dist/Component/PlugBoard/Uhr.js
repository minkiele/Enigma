Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../lib/utils"),t=i(require("../Component")),r=i(require("./Wire/Wire"));function i(e){return e&&e.__esModule?e:{default:e}}const s=[6,31,4,29,18,39,16,25,30,23,28,1,38,11,36,37,26,27,24,21,14,3,12,17,2,7,0,33,10,35,8,5,22,19,20,13,34,15,32,9],n=[6,0,7,5,1,8,4,2,9,3];class u extends t.default{#e={};#t=0;setUhrSetting(t){this.#t=(0,e.getModularNumber)(t,s.length),this.emit("change.uhrSetting",this.#t)}getUhrSetting(){return this.#t}getInnerPin(t){return(0,e.getModularNumber)(s[(0,e.getModularNumber)(t+this.#t,s.length)]-this.#t,s.length)}getOuterPin(t){const r=(0,e.getModularNumber)(t+this.#t,s.length),i=s.indexOf(r);return(0,e.getModularNumber)(i-this.#t,s.length)}getBlackWire(e){const t=4*(e-1),r=this.getInnerPin(t);return n[(r-2)/4]+1}getRedWire(e){const t=4*n.indexOf(e-1);return(this.getOuterPin(t)-2)/4+1}getUhrWire(e,t,r){return null==this.#e[e]&&this.createUhrWire(e,t,r),this.#e[e]}createUhrWire(e,t,i){const s=this,n=new class extends r.default{encode(t){return t===this.firstLetter?s.#e[s.getBlackWire(e)].secondLetter:t===this.secondLetter?s.#e[s.getRedWire(e)].firstLetter:void 0}}(t,i);this.#e[e]=n}}exports.default=u;
