var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","./Enigma","./Component/WiredWheel/Rotor/ThinRotor","./Component/WiredWheel/Reflector","./Component/WiredWheel/Reflector/ThinReflector"],e)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=__importDefault(e("./Enigma")),i=__importDefault(e("./Component/WiredWheel/Rotor/ThinRotor")),r=__importDefault(e("./Component/WiredWheel/Reflector")),n=__importDefault(e("./Component/WiredWheel/Reflector/ThinReflector")),s="F";class l extends o.default{constructor(){super(),this.setRotor(null,s)}encodeForward(e){const t=super.encodeForward(e);if(this.isClassicConfiguration())return t;{const e=this.getRotorInputPosition(t,s),o=this.getRotor(s).pinToPlate(e);return this.getRotorOutputPosition(o,s)}}encodeBackwards(e){let t;if(this.isClassicConfiguration())t=e;else{const o=this.getRotorInputPosition(e,s),i=this.getRotor(s).plateToPin(o);t=this.getRotorOutputPosition(i,s)}return super.encodeBackwards(t)}isClassicConfiguration(){return null===this.getRotor(s)&&this.reflector instanceof r.default&&!(this.reflector instanceof n.default)}isMachineValidState(){const e=super.isMachineValidState();return this.isClassicConfiguration()?e:e&&this.getRotor(s)instanceof i.default&&this.reflector instanceof n.default}}t.default=l,l.FOURTH_ROTOR=s}));
